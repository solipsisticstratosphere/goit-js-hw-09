{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name=email]');\nconst message = document.querySelector('textarea[name=message]');\nconst localStorageKey = 'feedback-form-state';\nconst savedInfo = localStorage.getItem('feedback-form-state');\nlet formdata = {\n  email_user: '',\n  message_user: '',\n};\n\ncheckData();\n\nlet { email_user, message_user } = formdata;\n\nform.addEventListener('submit', handlerSent);\nform.addEventListener('input', evt => {\n  if (evt.target === email) {\n    formdata.email_user = evt.target.value;\n  } else if (evt.target === message) {\n    formdata.message_user = evt.target.value;\n  }\n  localStorage.setItem(localStorageKey, JSON.stringify(formdata));\n});\n\nfunction checkData() {\n  if (savedInfo) {\n    const parsedInfo = JSON.parse(savedInfo);\n    formdata.email_user = parsedInfo.email_user;\n    formdata.message_user = parsedInfo.message_user;\n    email.value = parsedInfo.email_user;\n    message.value = parsedInfo.message_user;\n  } else {\n    email.value = '';\n    message.value = '';\n  }\n}\n\nfunction handlerSent(evt) {\n  evt.preventDefault();\n  if (email.value == '' || message.value == '') {\n    alert('Fill please all fields');\n  } else {\n    console.log(formdata);\n    localStorage.clear();\n\n    formdata = { email: '', message: '' };\n    form.reset();\n  }\n}\n"],"names":["form","email","message","localStorageKey","savedInfo","formdata","checkData","handlerSent","evt","parsedInfo"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,mBAAmB,EAClDC,EAAU,SAAS,cAAc,wBAAwB,EACzDC,EAAkB,sBAClBC,EAAY,aAAa,QAAQ,qBAAqB,EAC5D,IAAIC,EAAW,CACb,WAAY,GACZ,aAAc,EAChB,EAEAC,IAIAN,EAAK,iBAAiB,SAAUO,CAAW,EAC3CP,EAAK,iBAAiB,QAASQ,GAAO,CAChCA,EAAI,SAAWP,EACjBI,EAAS,WAAaG,EAAI,OAAO,MACxBA,EAAI,SAAWN,IACxBG,EAAS,aAAeG,EAAI,OAAO,OAErC,aAAa,QAAQL,EAAiB,KAAK,UAAUE,CAAQ,CAAC,CAChE,CAAC,EAED,SAASC,GAAY,CACnB,GAAIF,EAAW,CACb,MAAMK,EAAa,KAAK,MAAML,CAAS,EACvCC,EAAS,WAAaI,EAAW,WACjCJ,EAAS,aAAeI,EAAW,aACnCR,EAAM,MAAQQ,EAAW,WACzBP,EAAQ,MAAQO,EAAW,YAC/B,MACIR,EAAM,MAAQ,GACdC,EAAQ,MAAQ,EAEpB,CAEA,SAASK,EAAYC,EAAK,CACxBA,EAAI,eAAc,EACdP,EAAM,OAAS,IAAMC,EAAQ,OAAS,GACxC,MAAM,wBAAwB,GAE9B,QAAQ,IAAIG,CAAQ,EACpB,aAAa,MAAK,EAElBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCL,EAAK,MAAK,EAEd"}